<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for timefun/private/formatdate</title><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">timefun/private/formatdate (6919 calls, 1.159 sec)</span><br/><i>Generated 12-Jun-2013 14:59:33 using cpu time.</i><br/>M-function in file /home/nick/matlab/toolbox/matlab/timefun/private/formatdate.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file109.html">timefun/private/dateformverify</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">6919</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line259">259</a></td><td class="td-linebottomrt"><pre>dtstrarray = sprintf(dtstr,dta...</pre></td><td class="td-linebottomrt">6919</td><td class="td-linebottomrt">0.171 s</td><td class="td-linebottomrt" class="td-linebottomrt">14.8%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=15 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line245">245</a></td><td class="td-linebottomrt"><pre>dtarray = [{year} {month} {day...</pre></td><td class="td-linebottomrt">6919</td><td class="td-linebottomrt">0.152 s</td><td class="td-linebottomrt" class="td-linebottomrt">13.1%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=13 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line80">80</a></td><td class="td-linebottomrt"><pre>[starts, ends] = regexp(dtstr,...</pre></td><td class="td-linebottomrt">6919</td><td class="td-linebottomrt">0.133 s</td><td class="td-linebottomrt" class="td-linebottomrt">11.5%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=11 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line50">50</a></td><td class="td-linebottomrt"><pre>notAMPM = isempty(strfind(form...</pre></td><td class="td-linebottomrt">6919</td><td class="td-linebottomrt">0.066 s</td><td class="td-linebottomrt" class="td-linebottomrt">5.7%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=6 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line251">251</a></td><td class="td-linebottomrt"><pre>[tmp,dtorder] = sort(dtorder);...</pre></td><td class="td-linebottomrt">6919</td><td class="td-linebottomrt">0.047 s</td><td class="td-linebottomrt" class="td-linebottomrt">4.1%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.589 s</td><td class="td-linebottomrt">50.8%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=51 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.159 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/>No children<div class="grayline"/><strong>M-Lint results</strong><br/>No M-Lint messages.<div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">278</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">70</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">208</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">63</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">145</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">30.29 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [dtstrarray] = formatdate(dtvector,formatstr,islocal)</span><br/>               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%   FORMATDATE casts date vector into a specified date format</span><br/>               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%   [DATESTRING] = FORMATDATE(DATEVECTOR, FORMATSTRING) turns the date</span><br/>               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">%   vector into a formated date string, according to the user's date</span><br/>               <span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%   format template.</span><br/>               <span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%   INPUT PARAMETERS:</span><br/>               <span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%   DATEVECTOR: 1 x m double array, containing standard MATLAB date vector.</span><br/>               <span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%   FORMATSTRING: char string containing a user specified date format</span><br/>               <span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%                 string. See NOTE 1.</span><br/>               <span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%   RETURN PARAMETERS:</span><br/>               <span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%   DATESTRING: char string, containing date and, optionally, time formated</span><br/>               <span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">%               as per user specified format string.</span><br/>               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">%   EXAMPLES:</span><br/>               <span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%   The date vector [2002 10 01 16 8] reformed as a date and time string,</span><br/>               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%   using a user format, 'dd-mm-yyyy HH:MM', will display as </span><br/>               <span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%   01-10-2002 16:08 .</span><br/>               <span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">%   </span><br/>               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%   NOTE 1: The format specifier allows free-style date format, within the</span><br/>               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%   following limits - </span><br/>               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%   ddd  =&gt; day is formatted as abbreviated name of weekday</span><br/>               <span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%   dd   =&gt; day is formatted as two digit day of month</span><br/>               <span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%   d    =&gt; day is formatted as first letter of day of month</span><br/>               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%   mmm  =&gt; month is formatted as three letter abbreviation of name of month</span><br/>               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%   mm   =&gt; month is formatted as two digit month of year</span><br/>               <span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%   m    =&gt; month is formatted as one or two digit month of year</span><br/>               <span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%   yyyy =&gt; year is formatted as four digit year</span><br/>               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%   yy   =&gt; year is formatted as two digit year</span><br/>               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%   HH   =&gt; hour is formatted as two digit hour of the day</span><br/>               <span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%   MM   =&gt; minute is formatted as two digit minute of the hour</span><br/>               <span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%   SS   =&gt; second is formatted as two digit second of the minute</span><br/>               <span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%   The user may use any separator and other delimiters of his liking, but</span><br/>               <span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%   must confine himself to the above format tokens regarding day, month,</span><br/>               <span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%   year, hour, minute and second.</span><br/>               <span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">% </span><br/>               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%   </span><br/>               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%------------------------------------------------------------------------------</span><br/>               <span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">% Copyright 2003-2009 The MathWorks, Inc.</span><br/>               <span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  43</span> <span style="color: #000000; background: #FFF0F0;">if isempty(dtvector) || isempty(formatstr) </span><br/>               <span style="color: #A0A0A0">  44</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtstrarray = '';</span><br/>               <span style="color: #A0A0A0">  45</span> <span style="color: #A0A0A0; background: #FFFFFF;">    return</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  46</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  47</span> <span style="color: #000000; background: #FFF0F0;">    dtstr = formatstr; </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  48</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  50</span> <a name="Line50"></a><span style="color: #000000; background: #FFD4D4;">notAMPM = isempty(strfind(formatstr,'AM')) &amp;&amp; isempty(strfind(formatstr,'PM')); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  51</span> <span style="color: #000000; background: #FFF0F0;">year = []; month = []; day = []; dayOfWeek= []; hour = []; minute = []; second = [];  </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  52</span> <span style="color: #000000; background: #FFFFFF;">millisecond = []; </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  53</span> <span style="color: #000000; background: #FFFFFF;">wrtWeekday = 0; wrtday = 0; </span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">% make sure days are capital D and seconds are capital second, so as not to</span><br/>               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">% confuse d for day with d as in %d when building conversion string.</span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  57</span> <span style="color: #000000; background: #FFF0F0;">dtstr = strrep(dtstr,'d','D'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  58</span> <span style="color: #000000; background: #FFFFFF;">dtstr = strrep(dtstr,'s','S'); </span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  59</span> <span style="color: #000000; background: #FFE2E2;">dtstr = strrep(dtstr,'Y','y'); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  60</span> <span style="color: #000000; background: #FFF0F0;">if notAMPM </span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if islocal</span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #A0A0A0; background: #FFFFFF;">        ampm = getampmtokensmx;</span><br/>               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0">  65</span> <span style="color: #A0A0A0; background: #FFFFFF;">        ampm = {'AM','PM'};</span><br/>               <span style="color: #A0A0A0">  66</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0">  67</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtstr = strrep(dtstr,'AM',''); % remove AM to avoid confusion below</span><br/>               <span style="color: #A0A0A0">  68</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtstr = strrep(dtstr,'PM',''); % remove PM to avoid confusion below</span><br/>               <span style="color: #A0A0A0">  69</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;">%All indices for sorting are computed before modifying the length of the</span><br/>               <span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">%string</span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  73</span> <span style="color: #000000; background: #FFFFFF;">showyr =  strfind(dtstr,'y'); wrtYr =  numel(showyr); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  74</span> <span style="color: #000000; background: #FFFFFF;">showmo =  strfind(dtstr,'m'); wrtMo =  numel(showmo);                      </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  75</span> <span style="color: #000000; background: #FFFFFF;">showhr =  strfind(dtstr,'H'); wrtHr =  numel(showhr); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  76</span> <span style="color: #000000; background: #FFFFFF;">showmin = strfind(dtstr,'M'); wrtMin = numel(showmin); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  77</span> <span style="color: #000000; background: #FFFFFF;">showsec = strfind(dtstr,'S'); wrtSec = numel(showsec); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  78</span> <span style="color: #000000; background: #FFFFFF;">showMsec = strfind(dtstr,'F'); wrtMsec = numel(showMsec); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  79</span> <span style="color: #000000; background: #FFF0F0;">showqrt = strfind(dtstr,'Q'); wrtQrt = numel(showqrt); </span><br/><span style="color: #FF0000">  0.13 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  80</span> <a name="Line80"></a><span style="color: #000000; background: #FF9C9C;">[starts, ends] = regexp(dtstr, 'D{1,4}', 'start', 'end'); </span><br/>               <span style="color: #A0A0A0">  81</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;">% Format date</span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  83</span> <span style="color: #000000; background: #FFFFFF;">if wrtYr &gt; 0 </span><br/>               <span style="color: #A0A0A0">  84</span> <span style="color: #A0A0A0; background: #FFFFFF;">	if showyr(end) - showyr(1) &gt;= wrtYr</span><br/>               <span style="color: #A0A0A0">  85</span> <span style="color: #A0A0A0; background: #FFFFFF;">		error('MATLAB:datestr:yearFormat','Unrecognized year format. Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0">  86</span> <span style="color: #A0A0A0; background: #FFFFFF;">	end</span><br/>               <span style="color: #A0A0A0">  87</span> <span style="color: #A0A0A0; background: #FFFFFF;">    switch wrtYr</span><br/>               <span style="color: #A0A0A0">  88</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case 4,</span><br/>               <span style="color: #A0A0A0">  89</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstr = strrep(dtstr,'yyyy','%.4d');</span><br/>               <span style="color: #A0A0A0">  90</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case 2,</span><br/>               <span style="color: #A0A0A0">  91</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstr = strrep(dtstr,'yy','%02d');</span><br/>               <span style="color: #A0A0A0">  92</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtvector(:,1) = mod(abs(dtvector(:,1)),100);</span><br/>               <span style="color: #A0A0A0">  93</span> <span style="color: #A0A0A0; background: #FFFFFF;">        otherwise</span><br/>               <span style="color: #A0A0A0">  94</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:formatdate:yearFormat','Unrecognized year format. Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0">  95</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0">  96</span> <span style="color: #A0A0A0; background: #FFFFFF;">    showyr = showyr(1);</span><br/>               <span style="color: #A0A0A0">  97</span> <span style="color: #A0A0A0; background: #FFFFFF;">	year = mod(dtvector(:,1),10000); </span><br/>               <span style="color: #A0A0A0">  98</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold">  99</span> <span style="color: #000000; background: #FFF0F0;">if wrtQrt &gt; 0 </span><br/>               <span style="color: #A0A0A0"> 100</span> <span style="color: #A0A0A0; background: #FFFFFF;">	if wrtQrt~= 2 || showqrt(end) - showqrt(1) &gt;= wrtQrt</span><br/>               <span style="color: #A0A0A0"> 101</span> <span style="color: #A0A0A0; background: #FFFFFF;">		error('MATLAB:formatdate:quarterFormat','Unrecognized quarter format. Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0"> 102</span> <span style="color: #A0A0A0; background: #FFFFFF;">	end</span><br/>               <span style="color: #A0A0A0"> 103</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtstr = strrep(dtstr,'QQ','Q%1d');</span><br/>               <span style="color: #A0A0A0"> 104</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if wrtMo &gt; 0 || wrtday &gt; 0 || wrtHr &gt; 0 || wrtMin &gt; 0 || wrtSec &gt; 0</span><br/>               <span style="color: #A0A0A0"> 105</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error('MATLAB:formatdate:quarterFormat',...</span><br/>               <span style="color: #A0A0A0"> 106</span> <span style="color: #A0A0A0; background: #FFFFFF;">        'Cannot use other time and date fields besides year and quarter.  Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0"> 107</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 108</span> <span style="color: #A0A0A0; background: #FFFFFF;">    showqrt = showqrt(1);</span><br/>               <span style="color: #A0A0A0"> 109</span> <span style="color: #A0A0A0; background: #FFFFFF;">	qrt = floor((dtvector(:,2)-1)/3)+1;</span><br/>               <span style="color: #A0A0A0"> 110</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 111</span> <span style="color: #000000; background: #FFFFFF;">if wrtMo &gt; 0 </span><br/>               <span style="color: #A0A0A0"> 112</span> <span style="color: #A0A0A0; background: #FFFFFF;">	if showmo(end) - showmo(1) &gt;= wrtMo</span><br/>               <span style="color: #A0A0A0"> 113</span> <span style="color: #A0A0A0; background: #FFFFFF;">		error('MATLAB:formatdate:monthFormat','Unrecognized month format.  Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0"> 114</span> <span style="color: #A0A0A0; background: #FFFFFF;">	end</span><br/>               <span style="color: #A0A0A0"> 115</span> <span style="color: #A0A0A0; background: #FFFFFF;">    switch wrtMo</span><br/>               <span style="color: #A0A0A0"> 116</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case 4,</span><br/>               <span style="color: #A0A0A0"> 117</span> <span style="color: #228B22; background: #FFFFFF;">            %long month names</span><br/>               <span style="color: #A0A0A0"> 118</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if islocal</span><br/>               <span style="color: #A0A0A0"> 119</span> <span style="color: #A0A0A0; background: #FFFFFF;">                month = getmonthnamesmx('longloc');</span><br/>               <span style="color: #A0A0A0"> 120</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 121</span> <span style="color: #A0A0A0; background: #FFFFFF;">                month = getmonthnamesmx('long');</span><br/>               <span style="color: #A0A0A0"> 122</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 123</span> <span style="color: #A0A0A0; background: #FFFFFF;">            monthfmt = '%s';</span><br/>               <span style="color: #A0A0A0"> 124</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstr = strrep(dtstr,'mmmm',monthfmt);</span><br/>               <span style="color: #A0A0A0"> 125</span> <span style="color: #A0A0A0; background: #FFFFFF;">            month = char(month(dtvector(:,2)));</span><br/>               <span style="color: #A0A0A0"> 126</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case 3,</span><br/>               <span style="color: #A0A0A0"> 127</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if islocal</span><br/>               <span style="color: #A0A0A0"> 128</span> <span style="color: #A0A0A0; background: #FFFFFF;">                month = getmonthnamesmx('shortloc');</span><br/>               <span style="color: #A0A0A0"> 129</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 130</span> <span style="color: #A0A0A0; background: #FFFFFF;">                month = {'Jan';'Feb';'Mar';'Apr';'May';'Jun';'Jul';'Aug';'Sep';'Oct';'Nov';'Dec'};</span><br/>               <span style="color: #A0A0A0"> 131</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 132</span> <span style="color: #A0A0A0; background: #FFFFFF;">            monthfmt = '%s';</span><br/>               <span style="color: #A0A0A0"> 133</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstr = strrep(dtstr,'mmm',monthfmt);</span><br/>               <span style="color: #A0A0A0"> 134</span> <span style="color: #A0A0A0; background: #FFFFFF;">            month = char(month(dtvector(:,2)));</span><br/>               <span style="color: #A0A0A0"> 135</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case 2,</span><br/>               <span style="color: #A0A0A0"> 136</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstr = strrep(dtstr,'mm','%02d');</span><br/>               <span style="color: #A0A0A0"> 137</span> <span style="color: #A0A0A0; background: #FFFFFF;">            month = abs(dtvector(:,2));</span><br/>               <span style="color: #A0A0A0"> 138</span> <span style="color: #A0A0A0; background: #FFFFFF;">        case 1,</span><br/>               <span style="color: #A0A0A0"> 139</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if islocal</span><br/>               <span style="color: #A0A0A0"> 140</span> <span style="color: #A0A0A0; background: #FFFFFF;">                month = getmonthnamesmx('shortloc');</span><br/>               <span style="color: #A0A0A0"> 141</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 142</span> <span style="color: #A0A0A0; background: #FFFFFF;">                month = {'J';'F';'M';'A';'M';'J';'J';'A';'S';'O';'N';'D'};</span><br/>               <span style="color: #A0A0A0"> 143</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 144</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstr = strrep(dtstr,'m','%.1s');</span><br/>               <span style="color: #A0A0A0"> 145</span> <span style="color: #A0A0A0; background: #FFFFFF;">            month = char(month(dtvector(:,2)));</span><br/>               <span style="color: #A0A0A0"> 146</span> <span style="color: #A0A0A0; background: #FFFFFF;">        otherwise</span><br/>               <span style="color: #A0A0A0"> 147</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:formatdate:monthFormat','Unrecognized month format.  Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0"> 148</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 149</span> <span style="color: #A0A0A0; background: #FFFFFF;">    showmo = showmo(1);</span><br/>               <span style="color: #A0A0A0"> 150</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 151</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 152</span> <span style="color: #228B22; background: #FFFFFF;">%Replace the various day and Weekday formats with the corresponding format</span><br/>               <span style="color: #A0A0A0"> 153</span> <span style="color: #228B22; background: #FFFFFF;">%specifications.</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 154</span> <span style="color: #000000; background: #FFF0F0;">dtstr = strrep(dtstr, 'DDDD', '%s'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 155</span> <span style="color: #000000; background: #FFFFFF;">dtstr = strrep(dtstr, 'DDD', '%s'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 156</span> <span style="color: #000000; background: #FFFFFF;">dtstr = strrep(dtstr, 'DD', '%02d'); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 157</span> <span style="color: #000000; background: #FFFFFF;">dtstr = strrep(dtstr, 'D', '%s'); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 158</span> <span style="color: #000000; background: #FFFFFF;">showday = []; </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 159</span> <span style="color: #000000; background: #FFF0F0;">showWeekDay = []; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 160</span> <span style="color: #000000; background: #FFFFFF;">for i = 1: length(starts) </span><br/>               <span style="color: #A0A0A0"> 161</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if ends(i) - starts(i) == 1</span><br/>               <span style="color: #A0A0A0"> 162</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isempty(showday) %Only one numeric day subformat allowed</span><br/>               <span style="color: #A0A0A0"> 163</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:formatdate:dayFormat','Unrecognized day format.  Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0"> 164</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 165</span> <span style="color: #A0A0A0; background: #FFFFFF;">        wrtday = 1;</span><br/>               <span style="color: #A0A0A0"> 166</span> <span style="color: #A0A0A0; background: #FFFFFF;">        showday = starts(i);</span><br/>               <span style="color: #A0A0A0"> 167</span> <span style="color: #A0A0A0; background: #FFFFFF;">        day = abs(dtvector(:,3));</span><br/>               <span style="color: #A0A0A0"> 168</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0"> 169</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isempty(showWeekDay) %Only one weekday subformat allowed</span><br/>               <span style="color: #A0A0A0"> 170</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('MATLAB:formatdate:dayFormat','Unrecognized day format.  Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0"> 171</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 172</span> <span style="color: #A0A0A0; background: #FFFFFF;">        showWeekDay = starts(i);</span><br/>               <span style="color: #A0A0A0"> 173</span> <span style="color: #A0A0A0; background: #FFFFFF;">        wrtWeekday = 1; </span><br/>               <span style="color: #A0A0A0"> 174</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if islocal</span><br/>               <span style="color: #A0A0A0"> 175</span> <span style="color: #A0A0A0; background: #FFFFFF;">            locale = 'local';</span><br/>               <span style="color: #A0A0A0"> 176</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 177</span> <span style="color: #A0A0A0; background: #FFFFFF;">            locale = 'en_us';</span><br/>               <span style="color: #A0A0A0"> 178</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 179</span> <span style="color: #A0A0A0; background: #FFFFFF;">        switch  ends(i) - starts(i)</span><br/>               <span style="color: #A0A0A0"> 180</span> <span style="color: #A0A0A0; background: #FFFFFF;">            case 3,</span><br/>               <span style="color: #A0A0A0"> 181</span> <span style="color: #228B22; background: #FFFFFF;">                %long month names</span><br/>               <span style="color: #A0A0A0"> 182</span> <span style="color: #A0A0A0; background: #FFFFFF;">                [daynr,dayOfWeek] = weekday(datenum(dtvector), 'long', locale);%#ok</span><br/>               <span style="color: #A0A0A0"> 183</span> <span style="color: #A0A0A0; background: #FFFFFF;">            case {0, 2},</span><br/>               <span style="color: #A0A0A0"> 184</span> <span style="color: #A0A0A0; background: #FFFFFF;">                [daynr,dayOfWeek] = weekday(datenum(dtvector), locale);%#ok</span><br/>               <span style="color: #A0A0A0"> 185</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if (ends(i) == starts(i))</span><br/>               <span style="color: #A0A0A0"> 186</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    dayOfWeek = dayOfWeek(:,1);</span><br/>               <span style="color: #A0A0A0"> 187</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0"> 188</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 189</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 190</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 191</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 192</span> <span style="color: #228B22; background: #FFFFFF;">% Format time</span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 193</span> <span style="color: #000000; background: #FFFFFF;">if wrtHr &gt; 0 </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   3076 </span><span style="color: #000000; font-weight: bold"> 194</span> <span style="color: #000000; background: #FFFFFF;">    if wrtHr ~= 2 || showhr(end) - showhr(1) &gt;= wrtHr </span><br/>               <span style="color: #A0A0A0"> 195</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error('MATLAB:formatdate:hourFormat','Unrecognized hour format.  Format string: %s.', formatstr);</span><br/>               <span style="color: #A0A0A0"> 196</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>       <span style="color: #0000FF">   3076 </span><span style="color: #000000; font-weight: bold"> 197</span> <span style="color: #000000; background: #FFFFFF;">    if notAMPM </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   3076 </span><span style="color: #000000; font-weight: bold"> 198</span> <span style="color: #000000; background: #FFFFFF;">        fmt = '%02d'; </span><br/>               <span style="color: #A0A0A0"> 199</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0"> 200</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fmt = '%2d';</span><br/>               <span style="color: #A0A0A0"> 201</span> <span style="color: #A0A0A0; background: #FFFFFF;">        h = dtvector(:,4);</span><br/>               <span style="color: #A0A0A0"> 202</span> <span style="color: #A0A0A0; background: #FFFFFF;">        c(h&lt;12) = ampm(1);</span><br/>               <span style="color: #A0A0A0"> 203</span> <span style="color: #A0A0A0; background: #FFFFFF;">        c(h&gt;=12) = ampm(2);</span><br/>               <span style="color: #A0A0A0"> 204</span> <span style="color: #A0A0A0; background: #FFFFFF;">        dtvector(:,4) = mod(h-1,12) + 1; % replace hour column with 12h format.</span><br/>               <span style="color: #A0A0A0"> 205</span> <span style="color: #A0A0A0; background: #FFFFFF;">        dtstr = [dtstr '%s']; % append conversion string for AM or PM</span><br/>               <span style="color: #A0A0A0"> 206</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>       <span style="color: #0000FF">   3076 </span><span style="color: #000000; font-weight: bold"> 207</span> <span style="color: #000000; background: #FFFFFF;">	dtstr = strrep(dtstr,'HH',fmt);  </span><br/>       <span style="color: #0000FF">   3076 </span><span style="color: #000000; font-weight: bold"> 208</span> <span style="color: #000000; background: #FFFFFF;">    hour   = dtvector(:,4);  </span><br/>       <span style="color: #0000FF">   3076 </span><span style="color: #000000; font-weight: bold"> 209</span> <span style="color: #000000; background: #FFFFFF;">	showhr = showhr(1); </span><br/>       <span style="color: #0000FF">   3076 </span><span style="color: #000000; font-weight: bold"> 210</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 211</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 212</span> <span style="color: #000000; background: #FFFFFF;">if wrtMin &gt; 0 </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 213</span> <span style="color: #000000; background: #FFFFFF;">	if wrtMin ~= 2 || showmin(end) - showmin(1) &gt;= wrtMin </span><br/>               <span style="color: #A0A0A0"> 214</span> <span style="color: #A0A0A0; background: #FFFFFF;">		error('MATLAB:formatdate:minuteFormat','Unrecognized minute format.  Format string: %s.', formatstr);    </span><br/>               <span style="color: #A0A0A0"> 215</span> <span style="color: #A0A0A0; background: #FFFFFF;">	end</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 216</span> <span style="color: #000000; background: #FFF0F0;">    dtstr = strrep(dtstr,'MM','%02d'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 217</span> <span style="color: #000000; background: #FFFFFF;">	minute = dtvector(:,5);  </span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 218</span> <span style="color: #000000; background: #FFE2E2;">	showmin = showmin(1); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 219</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 220</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 221</span> <span style="color: #000000; background: #FFFFFF;">if wrtSec &gt; 0 </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 222</span> <span style="color: #000000; background: #FFFFFF;">	if wrtSec ~= 2 || showsec(end) - showsec(1) &gt;= wrtSec </span><br/>               <span style="color: #A0A0A0"> 223</span> <span style="color: #A0A0A0; background: #FFFFFF;">		error('MATLAB:formatdate:secondFormat','Unrecognized second format.  Format string: %s.', formatstr);     	</span><br/>               <span style="color: #A0A0A0"> 224</span> <span style="color: #A0A0A0; background: #FFFFFF;">	end	</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 225</span> <span style="color: #000000; background: #FFFFFF;">    dtstr = strrep(dtstr,'SS','%02d'); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 226</span> <span style="color: #000000; background: #FFFFFF;">	second = floor(dtvector(:,6)); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 227</span> <span style="color: #000000; background: #FFFFFF;">	showsec = showsec(1); </span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 228</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 229</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 230</span> <span style="color: #000000; background: #FFFFFF;">if wrtMsec &gt; 0 </span><br/>               <span style="color: #A0A0A0"> 231</span> <span style="color: #A0A0A0; background: #FFFFFF;">	if wrtMsec ~= 3 || showMsec(end) - showMsec(1) &gt;= wrtMsec</span><br/>               <span style="color: #A0A0A0"> 232</span> <span style="color: #A0A0A0; background: #FFFFFF;">		error('MATLAB:formatdate:millisecondFormat','Unrecognized millisecond format.  Format string: %s.', formatstr);     	</span><br/>               <span style="color: #A0A0A0"> 233</span> <span style="color: #A0A0A0; background: #FFFFFF;">	end	</span><br/>               <span style="color: #A0A0A0"> 234</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtstr = strrep(dtstr,'FFF','%03d');</span><br/>               <span style="color: #A0A0A0"> 235</span> <span style="color: #A0A0A0; background: #FFFFFF;">	millisecond = floor(1000*(dtvector(:,6) - floor(dtvector(:,6))));</span><br/>               <span style="color: #A0A0A0"> 236</span> <span style="color: #A0A0A0; background: #FFFFFF;">	showMsec = showMsec(1);</span><br/>               <span style="color: #A0A0A0"> 237</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 238</span> <span style="color: #228B22; background: #FFFFFF;">% build date-time array to print</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 239</span> <span style="color: #000000; background: #FFFFFF;">if wrtQrt &gt; 0 </span><br/>               <span style="color: #A0A0A0"> 240</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtorder = [showyr, showqrt];    </span><br/>               <span style="color: #A0A0A0"> 241</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtarray = [{year} {qrt}];</span><br/>               <span style="color: #A0A0A0"> 242</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtarray = dtarray([(wrtYr&gt;0) (wrtQrt&gt;0)]);</span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 243</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 244</span> <span style="color: #000000; background: #FFF0F0;">    dtorder = [showyr, showmo, showday, showWeekDay, showhr, showmin, showsec, showMsec]; </span><br/><span style="color: #FF0000">  0.15 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 245</span> <a name="Line245"></a><span style="color: #000000; background: #FF8E8E;">    dtarray = [{year} {month} {day} {dayOfWeek} {hour} {minute} {second} {millisecond}]; </span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 246</span> <span style="color: #000000; background: #FFE2E2;">    dtarray = dtarray([(wrtYr&gt;0) (wrtMo&gt;0) (wrtday&gt;0) (wrtWeekday&gt;0) (wrtHr&gt;0) ... </span><br/>               <span style="color: #A0A0A0"> 247</span> <span style="color: #000000; background: #FFE2E2;">         (wrtMin&gt;0) (wrtSec&gt;0) (wrtMsec&gt;0)]);</span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 248</span> <span style="color: #000000; background: #FFF0F0;">end </span><br/>               <span style="color: #A0A0A0"> 249</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 250</span> <span style="color: #228B22; background: #FFFFFF;">% sort date vector in the order of the time format fields</span><br/><span style="color: #FF0000">  0.05 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 251</span> <a name="Line251"></a><span style="color: #000000; background: #FFE2E2;">[tmp,dtorder] = sort(dtorder);%#ok </span><br/>               <span style="color: #A0A0A0"> 252</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 253</span> <span style="color: #228B22; background: #FFFFFF;">% print date vector using conversion string</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 254</span> <span style="color: #000000; background: #FFFFFF;">dtarray = dtarray(dtorder); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 255</span> <span style="color: #000000; background: #FFF0F0;">rows = size(dtvector,1); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 256</span> <span style="color: #000000; background: #FFFFFF;">if (rows == 1) </span><br/>               <span style="color: #A0A0A0"> 257</span> <span style="color: #228B22; background: #FFFFFF;">    %optimize if only one member</span><br/>       <span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 258</span> <span style="color: #000000; background: #FFFFFF;">    if notAMPM </span><br/><span style="color: #FF0000">  0.17 </span><span style="color: #0000FF">   6919 </span><span style="color: #000000; font-weight: bold"> 259</span> <a name="Line259"></a><span style="color: #000000; background: #FF8080;">        dtstrarray = sprintf(dtstr,dtarray{:}); </span><br/>               <span style="color: #A0A0A0"> 260</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0"> 261</span> <span style="color: #A0A0A0; background: #FFFFFF;">        dtstrarray = sprintf(dtstr,dtarray{:},char(c));</span><br/>               <span style="color: #A0A0A0"> 262</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 263</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 264</span> <span style="color: #A0A0A0; background: #FFFFFF;">    dtstrarray = cell(rows,1);</span><br/>               <span style="color: #A0A0A0"> 265</span> <span style="color: #A0A0A0; background: #FFFFFF;">    numeldtarray = length(dtarray);</span><br/>               <span style="color: #A0A0A0"> 266</span> <span style="color: #A0A0A0; background: #FFFFFF;">    thisdate = cell(1,numeldtarray);</span><br/>               <span style="color: #A0A0A0"> 267</span> <span style="color: #A0A0A0; background: #FFFFFF;">    for i = 1:rows</span><br/>               <span style="color: #A0A0A0"> 268</span> <span style="color: #A0A0A0; background: #FFFFFF;">        for j = 1:numeldtarray</span><br/>               <span style="color: #A0A0A0"> 269</span> <span style="color: #228B22; background: #FFFFFF;">            % take horzontal slice through cells</span><br/>               <span style="color: #A0A0A0"> 270</span> <span style="color: #A0A0A0; background: #FFFFFF;">            thisdate{j} = dtarray{j}(i,:);</span><br/>               <span style="color: #A0A0A0"> 271</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 272</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if notAMPM</span><br/>               <span style="color: #A0A0A0"> 273</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstrarray{i} = sprintf(dtstr,thisdate{:});</span><br/>               <span style="color: #A0A0A0"> 274</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0"> 275</span> <span style="color: #A0A0A0; background: #FFFFFF;">            dtstrarray{i} = sprintf(dtstr,thisdate{:},char(c{i}));</span><br/>               <span style="color: #A0A0A0"> 276</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 277</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 278</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/></pre></body></html>