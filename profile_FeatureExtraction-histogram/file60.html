<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for imlincomb</title><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">imlincomb (360576 calls, 97.177 sec)</span><br/><i>Generated 12-Jun-2013 14:59:27 using cpu time.</i><br/>M-function in file /home/nick/matlab/toolbox/images/images/imlincomb.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file59.html">histogram_features</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">360576</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line71">71</a></td><td class="td-linebottomrt"><pre>[images, scalars, outputClass]...</pre></td><td class="td-linebottomrt">360576</td><td class="td-linebottomrt">47.021 s</td><td class="td-linebottomrt" class="td-linebottomrt">48.4%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=48 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line87">87</a></td><td class="td-linebottomrt"><pre>Z = imlincombc(images, scalars...</pre></td><td class="td-linebottomrt">360576</td><td class="td-linebottomrt">45.093 s</td><td class="td-linebottomrt" class="td-linebottomrt">46.4%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=46 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line73">73</a></td><td class="td-linebottomrt"><pre>sameInputOutputClass = strcmp(...</pre></td><td class="td-linebottomrt">360576</td><td class="td-linebottomrt">1.729 s</td><td class="td-linebottomrt" class="td-linebottomrt">1.8%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line88">88</a></td><td class="td-linebottomrt"><pre>end</pre></td><td class="td-linebottomrt">360576</td><td class="td-linebottomrt">0.931 s</td><td class="td-linebottomrt" class="td-linebottomrt">1.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line74">74</a></td><td class="td-linebottomrt"><pre>if sameInputOutputClass</pre></td><td class="td-linebottomrt">360576</td><td class="td-linebottomrt">0.608 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.6%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">1.795 s</td><td class="td-linebottomrt">1.8%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">97.177 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file53.html">imlincomb>ParseInputs</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">360576</td><td class="td-linebottomrt">44.941 s</td><td class="td-linebottomrt">46.2%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=46 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file61.html">images/private/imlincombc</a></td><td class="td-linebottomrt">MEX-function</td><td class="td-linebottomrt">360576</td><td class="td-linebottomrt">43.289 s</td><td class="td-linebottomrt">44.5%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=45 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">8.947 s</td><td class="td-linebottomrt">9.2%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=9 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">97.177 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>M-Lint results</strong><br/>No M-Lint messages.<div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">88</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">71</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">17</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">6</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">11</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">35.29 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function Z = imlincomb(varargin)</span><br/>               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%IMLINCOMB Linear combination of images.</span><br/>               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%   Z = IMLINCOMB(K1,A1,K2,A2, ..., Kn,An) computes K1*A1 + K2*A2 + ... +</span><br/>               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">%   Kn*An.  A1, A2, ..., An are real, nonsparse, numeric arrays with the</span><br/>               <span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%   same class and size, and K1, K2, ..., Kn are real double scalars.  Z</span><br/>               <span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">%   has the same size and class as A1 unless A1 is logical, in which case</span><br/>               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%   Z is double.</span><br/>               <span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%   Z = IMLINCOMB(K1,A1,K2,A2, ..., Kn,An,K) computes K1*A1 + K2*A2 +</span><br/>               <span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%   ... + Kn*An + K.</span><br/>               <span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%   Z = IMLINCOMB(..., OUTPUT_CLASS) lets you specify the class of Z.</span><br/>               <span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%   OUTPUT_CLASS is a string containing the name of a numeric class.</span><br/>               <span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%   Use IMLINCOMB to perform a series of arithmetic operations on a pair</span><br/>               <span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">%   of images, rather than nesting calls to individual arithmetic</span><br/>               <span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%   functions, such as IMADD and IMMULTIPLY.  When you nest calls to the</span><br/>               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%   arithmetic functions, and the input arrays have integer class, then</span><br/>               <span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%   each function truncates and rounds the result before passing it to</span><br/>               <span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">%   the next function, thus losing accuracy in the final result.</span><br/>               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%   IMLINCOMB performs all the arithmetic operations at once before</span><br/>               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%   truncating and rounding the final result.</span><br/>               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%   Each element of the output, Z, is computed individually in</span><br/>               <span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%   double-precision floating point.  When Z is an integer array, elements</span><br/>               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%   of Z that exceed the range of the integer type are truncated, and</span><br/>               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%   fractional values are rounded.</span><br/>               <span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%   Example 1</span><br/>               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%   ---------</span><br/>               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%   Scale an image by a factor of two.</span><br/>               <span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%       I = imread('cameraman.tif');</span><br/>               <span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%       J = imlincomb(2,I);</span><br/>               <span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%       figure, imshow(J)</span><br/>               <span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%   Example 2</span><br/>               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%   ---------</span><br/>               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%   Form a difference image with the zero value shifted to 128.</span><br/>               <span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">%       I = imread('cameraman.tif');</span><br/>               <span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">%       J = uint8(filter2(fspecial('gaussian'), I));</span><br/>               <span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">%       K = imlincomb(1,I,-1,J,128); % K(r,c) = I(r,c) - J(r,c) + 128</span><br/>               <span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">%       figure, imshow(K)</span><br/>               <span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%   Example 3</span><br/>               <span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">%   ---------</span><br/>               <span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%   Add two images with a specified output class.</span><br/>               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%       I = imread('rice.png');</span><br/>               <span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%       J = imread('cameraman.tif');</span><br/>               <span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">%       K = imlincomb(1,I,1,J,'uint16');</span><br/>               <span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%       figure, imshow(K,[])</span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%   See also IMADD, IMCOMPLEMENT, IMDIVIDE, IMMULTIPLY, IMSUBTRACT.</span><br/>               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%   Copyright 1993-2006 The MathWorks, Inc.</span><br/>               <span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%   $Revision: 1.12.4.9 $  $Date: 2006/05/24 03:31:18 $</span><br/>               <span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">% I/O spec</span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">% ========</span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">% A1, ...       Real, numeric, full arrays</span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%               Logical arrays also allowed, and are converted to uint8.</span><br/>               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">% K1, ...       Real, double scalars</span><br/>               <span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;">% OUTPUT_CLASS  Case-insensitive nonambiguous abbreviation of one of</span><br/>               <span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">%               these strings: uint8, uint16, uint32, int8, int16, int32,</span><br/>               <span style="color: #A0A0A0">  69</span> <span style="color: #228B22; background: #FFFFFF;">%               single, double</span><br/>               <span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000"> 47.02 </span><span style="color: #0000FF"> 360576 </span><span style="color: #000000; font-weight: bold">  71</span> <a name="Line71"></a><span style="color: #000000; background: #FF8080;">[images, scalars, outputClass] = <a href="file53.html">ParseInputs</a>(varargin{:}); </span><br/>               <span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  1.73 </span><span style="color: #0000FF"> 360576 </span><span style="color: #000000; font-weight: bold">  73</span> <a name="Line73"></a><span style="color: #000000; background: #FFFFFF;">sameInputOutputClass = strcmp(class(images{1}), outputClass); </span><br/><span style="color: #FF0000">  0.61 </span><span style="color: #0000FF"> 360576 </span><span style="color: #000000; font-weight: bold">  74</span> <a name="Line74"></a><span style="color: #000000; background: #FFFFFF;">if sameInputOutputClass </span><br/>               <span style="color: #A0A0A0">  75</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if imagePlusImage(images,scalars)</span><br/>               <span style="color: #A0A0A0">  76</span> <span style="color: #A0A0A0; background: #FFFFFF;">        Z = images{1} + images{2};</span><br/>               <span style="color: #A0A0A0">  77</span> <span style="color: #A0A0A0; background: #FFFFFF;">    elseif image1MinusImage2(images,scalars)</span><br/>               <span style="color: #A0A0A0">  78</span> <span style="color: #A0A0A0; background: #FFFFFF;">        Z  = images{1} - images{2};</span><br/>               <span style="color: #A0A0A0">  79</span> <span style="color: #A0A0A0; background: #FFFFFF;">    elseif image2MinusImage1(images,scalars)</span><br/>               <span style="color: #A0A0A0">  80</span> <span style="color: #A0A0A0; background: #FFFFFF;">        Z = images{2} - images{1};</span><br/>               <span style="color: #A0A0A0">  81</span> <span style="color: #A0A0A0; background: #FFFFFF;">    elseif imagePlusScalar(images,scalars)</span><br/>               <span style="color: #A0A0A0">  82</span> <span style="color: #A0A0A0; background: #FFFFFF;">        Z = images{1} + scalars(2);</span><br/>               <span style="color: #A0A0A0">  83</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0">  84</span> <span style="color: #A0A0A0; background: #FFFFFF;">        Z = imlincombc(images, scalars, outputClass);</span><br/>               <span style="color: #A0A0A0">  85</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/><span style="color: #FF0000">  0.18 </span><span style="color: #0000FF"> 360576 </span><span style="color: #000000; font-weight: bold">  86</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/><span style="color: #FF0000"> 45.09 </span><span style="color: #0000FF"> 360576 </span><span style="color: #000000; font-weight: bold">  87</span> <a name="Line87"></a><span style="color: #000000; background: #FF8080;">    Z = <a href="file61.html">imlincombc</a>(images, scalars, outputClass); </span><br/><span style="color: #FF0000">  0.93 </span><span style="color: #0000FF"> 360576 </span><span style="color: #000000; font-weight: bold">  88</span> <a name="Line88"></a><span style="color: #000000; background: #FFFFFF;">end </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>