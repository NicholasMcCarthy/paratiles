<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for blockproc>userfunDispatcher</title><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">blockproc>userfunDispatcher (40064 calls, 2797.995 sec)</span><br/><i>Generated 12-Jun-2013 14:59:27 using cpu time.</i><br/>M-subfunction in file /home/nick/matlab/toolbox/images/images/blockproc.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file8.html">blockproc</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">40062</td></tr><tr><td class="td-linebottomrt"><a href="file25.html">blockproc>getOutputContainer</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">2</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line778">778</a></td><td class="td-linebottomrt"><pre>output_block = fun(input_struc...</pre></td><td class="td-linebottomrt">40063</td><td class="td-linebottomrt">2797.368 s</td><td class="td-linebottomrt" class="td-linebottomrt">100.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=100 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line822">822</a></td><td class="td-linebottomrt"><pre>output_block = output_block(bd...</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">0.152 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line826">826</a></td><td class="td-linebottomrt"><pre>end % userfunDispatcher</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">0.123 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line788">788</a></td><td class="td-linebottomrt"><pre>output_block = fun(input_struc...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.085 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line819">819</a></td><td class="td-linebottomrt"><pre>bdr = input_struct.border;</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">0.076 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.190 s</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">2797.995 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file68.html">...xtractFeatures(block_struct.data),-1)</a></td><td class="td-linebottomrt">M-anonymous-function</td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">2797.197 s</td><td class="td-linebottomrt">100.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=100 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.798 s</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">2797.995 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>M-Lint results</strong><br/>No M-Lint messages.<div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">54</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">22</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">32</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">14</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">18</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">43.75 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0"> 773</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [output_block has_output] = userfunDispatcher(fun,input_struct,trim_border,...</span><br/>               <span style="color: #A0A0A0"> 774</span> <span style="color: #A0A0A0; background: #FFFFFF;">    is_verified,has_output)</span><br/>               <span style="color: #A0A0A0"> 775</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 776</span> <span style="color: #000000; background: #FFFFFF;">if is_verified </span><br/>       <span style="color: #0000FF">  40063 </span><span style="color: #000000; font-weight: bold"> 777</span> <span style="color: #000000; background: #FFFFFF;">    if has_output </span><br/><span style="color: #FF0000"> 2797.37 </span><span style="color: #0000FF">  40063 </span><span style="color: #000000; font-weight: bold"> 778</span> <a name="Line778"></a><span style="color: #000000; background: #FF8080;">        output_block = fun(input_struct); </span><br/>               <span style="color: #A0A0A0"> 779</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0"> 780</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fun(input_struct);</span><br/>               <span style="color: #A0A0A0"> 781</span> <span style="color: #A0A0A0; background: #FFFFFF;">        output_block = [];</span><br/>               <span style="color: #A0A0A0"> 782</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 783</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 784</span> <span style="color: #000000; background: #FFFFFF;">    try </span><br/>               <span style="color: #A0A0A0"> 785</span> <span style="color: #228B22; background: #FFFFFF;">        % support "nargout == 0" user functions that do things like gather</span><br/>               <span style="color: #A0A0A0"> 786</span> <span style="color: #228B22; background: #FFFFFF;">        % statistics on image blocks but need not return anything</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 787</span> <span style="color: #000000; background: #FFFFFF;">        try </span><br/><span style="color: #FF0000">  0.09 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 788</span> <a name="Line788"></a><span style="color: #000000; background: #FFFFFF;">            output_block = fun(input_struct); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 789</span> <span style="color: #000000; background: #FFFFFF;">            has_output = true; </span><br/>               <span style="color: #A0A0A0"> 790</span> <span style="color: #A0A0A0; background: #FFFFFF;">        catch some_exception</span><br/>               <span style="color: #A0A0A0"> 791</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if strcmpi(some_exception.identifier,'MATLAB:maxlhs') || ...</span><br/>               <span style="color: #A0A0A0"> 792</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    strcmpi(some_exception.identifier,'MATLAB:TooManyOutputs')</span><br/>               <span style="color: #A0A0A0"> 793</span> <span style="color: #228B22; background: #FFFFFF;">                % user FUN has nargout == 0, recover and return empty</span><br/>               <span style="color: #A0A0A0"> 794</span> <span style="color: #A0A0A0; background: #FFFFFF;">                output_block = [];</span><br/>               <span style="color: #A0A0A0"> 795</span> <span style="color: #A0A0A0; background: #FFFFFF;">                fun(input_struct);</span><br/>               <span style="color: #A0A0A0"> 796</span> <span style="color: #A0A0A0; background: #FFFFFF;">                has_output = false;</span><br/>               <span style="color: #A0A0A0"> 797</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/>               <span style="color: #A0A0A0"> 798</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0"> 799</span> <span style="color: #228B22; background: #FFFFFF;">                % some other legit error, rethrow it</span><br/>               <span style="color: #A0A0A0"> 800</span> <span style="color: #A0A0A0; background: #FFFFFF;">                rethrow(some_exception);</span><br/>               <span style="color: #A0A0A0"> 801</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 802</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 803</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 804</span> <span style="color: #A0A0A0; background: #FFFFFF;">    catch userfun_exception</span><br/>               <span style="color: #A0A0A0"> 805</span> <span style="color: #228B22; background: #FFFFFF;">        % the user function has errored, rethrow the error with some additional</span><br/>               <span style="color: #A0A0A0"> 806</span> <span style="color: #228B22; background: #FFFFFF;">        % information as the "cause".</span><br/>               <span style="color: #A0A0A0"> 807</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 808</span> <span style="color: #A0A0A0; background: #FFFFFF;">        new_ex = internal.images.BlockprocUserfunException();</span><br/>               <span style="color: #A0A0A0"> 809</span> <span style="color: #A0A0A0; background: #FFFFFF;">        new_ex = new_ex.addCause(userfun_exception);</span><br/>               <span style="color: #A0A0A0"> 810</span> <span style="color: #A0A0A0; background: #FFFFFF;">        throw(new_ex);</span><br/>               <span style="color: #A0A0A0"> 811</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 812</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 813</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 814</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 815</span> <span style="color: #228B22; background: #FFFFFF;">% trim output if necessary</span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 816</span> <span style="color: #000000; background: #FFFFFF;">if trim_border </span><br/>               <span style="color: #A0A0A0"> 817</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 818</span> <span style="color: #228B22; background: #FFFFFF;">    % get border size from struct</span><br/><span style="color: #FF0000">  0.08 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 819</span> <a name="Line819"></a><span style="color: #000000; background: #FFFFFF;">    bdr = input_struct.border; </span><br/>               <span style="color: #A0A0A0"> 820</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 821</span> <span style="color: #228B22; background: #FFFFFF;">    % trim the border</span><br/><span style="color: #FF0000">  0.15 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 822</span> <a name="Line822"></a><span style="color: #000000; background: #FFFFFF;">    output_block = output_block(bdr(1)+1:end-bdr(1),bdr(2)+1:end-bdr(2),:); </span><br/>               <span style="color: #A0A0A0"> 823</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 824</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 825</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.12 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 826</span> <a name="Line826"></a><span style="color: #000000; background: #FFFFFF;">end % userfunDispatcher </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>