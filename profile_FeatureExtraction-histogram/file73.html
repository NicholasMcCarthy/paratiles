<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for blockproc>putBlock</title><link rel="stylesheet" href="file:////home/nick/matlab/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">blockproc>putBlock (40064 calls, 6.886 sec)</span><br/><i>Generated 12-Jun-2013 14:59:28 using cpu time.</i><br/>M-subfunction in file /home/nick/matlab/toolbox/images/images/blockproc.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file25.html">blockproc>getOutputContainer</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">2</td></tr><tr><td class="td-linebottomrt"><a href="file8.html">blockproc</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">40062</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line741">741</a></td><td class="td-linebottomrt"><pre>dest.writeRegion(start_loc,...</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">5.252 s</td><td class="td-linebottomrt" class="td-linebottomrt">76.3%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=76 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line740">740</a></td><td class="td-linebottomrt"><pre>start_loc = [target_start_row ...</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">0.218 s</td><td class="td-linebottomrt" class="td-linebottomrt">3.2%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line735">735</a></td><td class="td-linebottomrt"><pre>block_size(1:2) = block_size(1...</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">0.171 s</td><td class="td-linebottomrt" class="td-linebottomrt">2.5%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line737">737</a></td><td class="td-linebottomrt"><pre>block_size(1:2) = min(block_si...</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">0.104 s</td><td class="td-linebottomrt" class="td-linebottomrt">1.5%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line744">744</a></td><td class="td-linebottomrt"><pre>end % putBlock</pre></td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">0.095 s</td><td class="td-linebottomrt" class="td-linebottomrt">1.4%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">1.045 s</td><td class="td-linebottomrt">15.2%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=15 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">6.886 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file72.html">...patcher>AdapterDispatcher.writeRegion</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">40064</td><td class="td-linebottomrt">4.046 s</td><td class="td-linebottomrt">58.8%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=59 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">2.840 s</td><td class="td-linebottomrt">41.2%</td><td class="td-linebottomrt"><img src="file:////home/nick/matlab/toolbox/matlab/codetools/private/one-pixel.gif" width=41 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">6.886 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>M-Lint results</strong><br/>No M-Lint messages.<div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">37</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">16</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">21</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">15</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">6</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">71.43 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0"> 708</span> <span style="color: #A0A0A0; background: #FFFFFF;">function putBlock(dest,dest_size,block_size,row,col,data)</span><br/>               <span style="color: #A0A0A0"> 709</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 710</span> <span style="color: #228B22; background: #FFFFFF;">% just bail on empty data</span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 711</span> <span style="color: #000000; background: #FFFFFF;">if isempty(data) </span><br/>               <span style="color: #A0A0A0"> 712</span> <span style="color: #A0A0A0; background: #FFFFFF;">    return</span><br/>               <span style="color: #A0A0A0"> 713</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 714</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 715</span> <span style="color: #228B22; background: #FFFFFF;">% get size of our destination</span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 716</span> <span style="color: #000000; background: #FFFFFF;">dest_height = dest_size(1); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 717</span> <span style="color: #000000; background: #FFFFFF;">dest_width  = dest_size(2); </span><br/>               <span style="color: #A0A0A0"> 718</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 719</span> <span style="color: #228B22; background: #FFFFFF;">% compute destination location for target block</span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 720</span> <span style="color: #000000; background: #FFFFFF;">target_start_row = 1 + (row - 1) * block_size(1); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 721</span> <span style="color: #000000; background: #FFFFFF;">target_start_col = 1 + (col - 1) * block_size(2); </span><br/>               <span style="color: #A0A0A0"> 722</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 723</span> <span style="color: #228B22; background: #FFFFFF;">% we clip the output location based on the size of the destination data</span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 724</span> <span style="color: #000000; background: #FFFFFF;">max_row = target_start_row + block_size(1) - 1; </span><br/><span style="color: #FF0000">  0.05 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 725</span> <span style="color: #000000; background: #FFFFFF;">max_col = target_start_col + block_size(2) - 1; </span><br/><span style="color: #FF0000">  0.05 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 726</span> <span style="color: #000000; background: #FFFFFF;">excess = [0 0]; </span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 727</span> <span style="color: #000000; background: #FFFFFF;">if max_row &gt; dest_height </span><br/>               <span style="color: #A0A0A0"> 728</span> <span style="color: #A0A0A0; background: #FFFFFF;">    excess(1) = max_row - dest_height;</span><br/>               <span style="color: #A0A0A0"> 729</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 730</span> <span style="color: #000000; background: #FFFFFF;">if max_col &gt; dest_width </span><br/>               <span style="color: #A0A0A0"> 731</span> <span style="color: #A0A0A0; background: #FFFFFF;">    excess(2) = max_col - dest_width;</span><br/>               <span style="color: #A0A0A0"> 732</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 733</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 734</span> <span style="color: #228B22; background: #FFFFFF;">% account for blocks that are too large and go beyond the destination edge</span><br/><span style="color: #FF0000">  0.17 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 735</span> <a name="Line735"></a><span style="color: #000000; background: #FFFFFF;">block_size(1:2) = block_size(1:2) - excess; </span><br/>               <span style="color: #A0A0A0"> 736</span> <span style="color: #228B22; background: #FFFFFF;">% account for edge blocks that are not padded and are not full block sized</span><br/><span style="color: #FF0000">  0.10 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 737</span> <a name="Line737"></a><span style="color: #000000; background: #FFFFFF;">block_size(1:2) = min(block_size(1:2),[size(data,1) size(data,2)]); </span><br/>               <span style="color: #A0A0A0"> 738</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 739</span> <span style="color: #228B22; background: #FFFFFF;">% write valid block data to destination</span><br/><span style="color: #FF0000">  0.22 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 740</span> <a name="Line740"></a><span style="color: #000000; background: #FFFFFF;">start_loc = [target_start_row target_start_col]; </span><br/><span style="color: #FF0000">  5.25 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 741</span> <a name="Line741"></a><span style="color: #000000; background: #FF8080;">dest.writeRegion(start_loc,... </span><br/>               <span style="color: #A0A0A0"> 742</span> <span style="color: #000000; background: #FF8080;">    data(1:block_size(1),1:block_size(2),:));</span><br/>               <span style="color: #A0A0A0"> 743</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.09 </span><span style="color: #0000FF">  40064 </span><span style="color: #000000; font-weight: bold"> 744</span> <a name="Line744"></a><span style="color: #000000; background: #FFFFFF;">end % putBlock </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>